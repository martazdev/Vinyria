---
import type { CollectionEntry } from 'astro:content';
import Layout from './Layout.astro';
import { BadgeCheck } from 'lucide-react';

type Props = CollectionEntry<'blog'>['data'];

const { title, description, pubDate, updatedDate, heroImage, recommended } = Astro.props;
---

<Layout title={title} description={description} image={heroImage}>
  <article class="max-w-4xl mx-auto px-6 md:px-12 py-12">
    <!-- Hero Image -->
    {heroImage && (
      <div class="relative w-full h-64 md:h-[400px] rounded-2xl overflow-hidden mb-8 shadow-lg">
        <img src={heroImage} alt={title} class="w-full h-full object-cover" />
        {recommended && (
            <div class="absolute top-4 right-4 bg-amber-500 text-slate-900 px-3 py-1 rounded-full font-bold text-sm shadow-md flex items-center gap-1">
                <BadgeCheck size={16} /> Recommended
            </div>
        )}
      </div>
    )}

    <!-- Header -->
    <header class="text-center mb-10 max-w-2xl mx-auto">
      <div class="text-slate-500 text-sm font-medium mb-3">
        Published on <time datetime={pubDate.toISOString()}>{pubDate.toLocaleDateString('en-us', {
					year: 'numeric',
					month: 'long',
					day: 'numeric',
				})}</time>
      </div>
      <h1 class="text-4xl md:text-5xl font-bold text-slate-900 tracking-tight leading-tight mb-4">
        {title}
      </h1>
      <p class="text-xl text-slate-600 leading-relaxed">
        {description}
      </p>
    </header>

    <!-- BLUF Box (Bottom Line Up Front) -->
    <div class="bg-indigo-50 border-l-4 border-indigo-500 p-6 my-8 rounded-r-xl shadow-sm not-prose">
        <h3 class="text-indigo-900 font-bold text-lg mb-2 flex items-center gap-2">
            Bottom Line Up Front
        </h3>
        <p class="text-indigo-800 leading-relaxed">
            In a hurry? Here's the verdict: This product offers the best value for money in its category. 
            We recommend it for users who prioritize performance and durability. 
            <a href="#conclusion" class="underline hover:text-indigo-600 font-semibold">Read our full verdict below.</a>
        </p>
    </div>

    <!-- Content -->
    <div class="prose prose-lg prose-slate mx-auto
        prose-headings:font-bold prose-headings:tracking-tight prose-headings:text-slate-900
        prose-a:text-emerald-700 prose-a:no-underline hover:prose-a:underline
        prose-img:rounded-xl prose-img:shadow-md
    ">
      <slot />
    </div>
  </article>
</Layout>
